{"componentChunkName":"component---src-templates-post-template-tsx","path":"/posts/devops/linux-mysql57-install/","result":{"data":{"posts":{"edges":[{"node":{"id":"ad39fb8e-a9d9-560e-95ff-4e61e5b924c5","html":"<h2>MySQL 설치</h2>\n<p>apt-get을 업데이트한 후 MySQL을 설치합니다.</p>\n<deckgo-highlight-code language=\"bash\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">sudo apt-get update\nsudo apt-get install mysql-server</code>\n        </deckgo-highlight-code>\n<p>부팅 시 MySQL이 시작되도록 설정합니다.</p>\n<deckgo-highlight-code language=\"bash\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">sudo systemctl enable mysql</code>\n        </deckgo-highlight-code>\n<p>기본 보안 세팅합니다.</p>\n<deckgo-highlight-code language=\"bash\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">sudo mysql_secure_installation</code>\n        </deckgo-highlight-code>\n<ol>\n<li>VALIDATE PASSWORD plugin?\n: 테스트 환경이라 활성화하지 않았습니다. (n)</li>\n<li>New password:\n: 초기 비밀번호를 설정해줍니다.</li>\n<li>Remove anonymous users?\n: 익명의 사용자를 삭제합니다. (y)</li>\n<li>Disallow root login remotely?\n: 외부에서 root 계정으로 접속하지 못하게 합니다. (y)</li>\n<li>Remove test database and access to it?\n: test DB를 삭제합니다. (y)</li>\n<li>Reload privilege tables now?\n: privilege tables 을 reload 해줍니다. (y)</li>\n</ol>\n<h2>외부접속 설정</h2>\n<p>네트워크 상태 확인합니다.</p>\n<deckgo-highlight-code language=\"bash\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">netstat -tnl\n\nActive Internet connections (only servers)\nProto Recv-Q Send-Q Local Address           Foreign Address         State\ntcp        0      0 127.0.0.1:3306          0.0.0.0:*               LISTEN</code>\n        </deckgo-highlight-code>\n<p>127.0.0.1:3306으로 설정되어 있습니다. 외부에서 접속할 수 있도록 로컬 어드레스를 수정합니다.</p>\n<deckgo-highlight-code language=\"bash\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">vi /etc/mysql/mysql.conf.d/mysqld.cnf\n...\nbind-address = 0.0.0.0</code>\n        </deckgo-highlight-code>\n<p>MySQL을 재시작합니다.</p>\n<deckgo-highlight-code language=\"bash\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">service mysql restart</code>\n        </deckgo-highlight-code>\n<p>다시 네트워크 상태를 확인합니다.</p>\n<deckgo-highlight-code language=\"bash\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">netstat -tnl\n\nActive Internet connections (only servers)\nProto Recv-Q Send-Q Local Address           Foreign Address         State\ntcp        0      0 0.0.0.0:3306            0.0.0.0:*               LISTEN</code>\n        </deckgo-highlight-code>\n<p>0.0.0.0:3306으로 변경이 완료 되었습니다.</p>\n<h3>외부 접속 계정 설정</h3>\n<p>MySQL root 계정으로 접속해서 외부에서 접속할 계정 생성 및 데이터베이스에 권한을 할당합니다.\n<code>*.*</code> 부분을 데이터베이스·테이블로 입력 시 해당 데이터베이스만 접속할 수 있도록 설정할 수 있습니다.</p>\n<deckgo-highlight-code language=\"sql\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">mysql -u root -p\n\nmysql&gt; GRANT ALL privileges on *.* to &#39;계정&#39;@&#39;%&#39; identified by &#39;암호&#39;;\nmysql&gt; Flush privileges;\nmysql&gt; SELECT host,user FROM mysql.user;\n+-----------+------------------+\n| host      | user             |\n+-----------+------------------+\n| %         | user             |\n| localhost | debian-sys-maint |\n| localhost | mysql.session    |\n| localhost | mysql.sys        |\n| localhost | root             |\n+-----------+------------------+\n5 rows in set (0.00 sec)</code>\n        </deckgo-highlight-code>\n<h3>방화벽 설정</h3>\n<p>ufw 사용하여 외부에서 접속을 할 수 있도록 설정 합니다.</p>\n<deckgo-highlight-code language=\"bash\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">sudo ufw enable\nsudo ufw allow 3306/tcp\nsudo ufw status\n\nStatus: active\n\nTo                         Action      From\n--                         ------      ----\n3306/tcp                   ALLOW       Anywhere\n3306/tcp (v6)              ALLOW       Anywhere (v6)</code>\n        </deckgo-highlight-code>\n<p><a href=\"https://www.yougetsignal.com/tools/open-ports/\" target=\"_blank\" rel=\"nofollow\">yougetsignal</a>에서 포트가 정상적으로 열렸는지 확인합니다.</p>","timeToRead":2,"frontmatter":{"title":"Linux MySQL 5.7 설치","date":"May 15, 2021","update":null,"tags":["linux","database"]}}}]}},"pageContext":{"slug":"/posts/devops/linux-mysql57-install/"}},"staticQueryHashes":["196858978","3066419403","3159585216"]}